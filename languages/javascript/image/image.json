{
    "name": "Images",
    "blocks": [
        {
            "blocktype": "step",
            "id": "1a6150d8-b3d5-46e3-83e5-a4fe3b00f7db",
            "label": "draw image [image] at point [point]",
            "script": "var img = {{1}}, point={{2}}; local.ctx.drawImage(img,point.x,point.y);",
            "help": "draw the HTML &lt;img&gt; into the canvas without resizing"
        },
        {
            "blocktype": "step",
            "id": "da300b03-1d39-4865-ab99-beec07b53bb2",
            "label": "draw image [image] in rect [rect]",
            "script": "local.ctx.drawImage({{1}},{{2}}.x,{{2}}.y,{{2}}.w,{{2}}.h);",
            "help": "draw the HTML &lt;img&gt; into the canvas sized to the given dimension"
        },
        {
            "blocktype": "step",
            "id": "5514e085-970f-48c2-b6bf-a443488c3c07",
            "label": "draw a rect [rect] from image [image] to rect [rect]",
            "script": "local.ctx.drawImage({{2}},{{1}}.x,{{1}}.y,{{1}}.w,{{1}}.h,{{3}}.x,{{3}}.y,{{3}}.w,{{3}}.h);",
            "help": "draw a rect extracted from image into a rect specified on the canvas"
        },
        {
            "blocktype": "step",
            "id": "6c79800c-af02-48e1-b9cb-d043e8299f7a",
            "label": "create ImageData## with size [size]",
            "script": "local.imageData## = local.ctx.createImageData({{1}}.w,{{1}}.h);",
            "locals": [
                {
                    "blocktype": "expression",
                    "label": "imageData##",
                    "script": "local.imageData##",
                    "type": "imagedata"
                }
            ],
            "help": "initialize a new imageData with the specified dimensions"
        },
        {
            "blocktype": "step",
            "id": "2137c296-1666-499c-871c-60226188f031",
            "label": "createImageData## from imageData [imageData]",
            "script": "local.imageData## = local.ctx.createImageData({{1}});",
            "locals": [
                {
                    "blocktype": "expression",
                    "label": "imageData##",
                    "script": "local.imageData##",
                    "type": "imagedata"
                }
            ],
            "help": "initialized a new imageData the same size as an existing imageData"
        },
        {
            "blocktype": "step",
            "id": "a2745268-a506-46b6-8d96-e4c275dd5584",
            "label": "get imageData## for rect [rect]",
            "script": "local.imageData## = local.ctx.getImageData({{1}}.x,{{1}}.y,{{1}}.w,{{1}}.h);",
            "locals": [
                {
                    "blocktype": "expression",
                    "label": "imageData##",
                    "script": "local.imageData##",
                    "type": "imagedata"
                }
            ],
            "help": "returns the image data from the specified rectangle"
        },
        {
            "blocktype": "step",
            "id": "207c93f2-d8c7-4b87-99bf-d79b61faafc2",
            "label": "draw imageData [imagedata] at point [point]",
            "script": "local.ctx.putImageData({{1}},{{2}}.x,{{2}}.y);",
            "help": "draw the given image data into the canvas at the given coordinates"
        },
        {
            "blocktype": "step",
            "id": "52ecfee7-005f-45ef-8c2a-df7b15dd974f",
            "label": "draw a rect [rect] from imageData [imagedata] at point [point]",
            "script": "local.ctx.putImageData({{2}},{{3}}.x,{{3}}.y,{{1}}.x,{{1}}.y,{{1}}.w,{{1}}.h);",
            "help": "draw the given image data into the canvas from the given rect to the given position"
        },
        {
            "blocktype": "expression",
            "id": "578ba232-d1c2-4354-993d-8538bbaf4de2",
            "label": "imageData [imagedata] width",
            "script": "{{1}}.width",
            "type": "number"
        },
        {
            "blocktype": "expression",
            "id": "01bc0775-1a0b-4d0f-b009-786e18417703",
            "label": "imageData [imagedata] height",
            "script": "{{1}}.height",
            "type": "number"
        },
        {
            "blocktype": "expression",
            "id": "5e97eed9-acf7-45af-838e-fae9bf85921c",
            "label": "imageData [imagedata] as array",
            "script": "{{1}}.data",
            "type": "array"
        },
       {
            "blocktype": "expression",
            "id": "7fa79655-4c85-45b3-be9e-a19aa038feae",
            "label": "image from url [string]",
            "script": "(function(){var img = new Image(); img.src=\"{{1}}\";return img;})()",
            "type": "image"
        },
        {
            "blocktype": "expression",
            "id": "a7e59ad2-47ab-4240-8801-5d66d8f57fc9",
            "label": "image [image] width",
            "script": "{{1}}.width",
            "type": "number"
        },
        {
            "blocktype": "expression",
            "id": "d9c7d36e-d15f-48a9-9423-1a6497727221",
            "label": "image [image] height",
            "script": "{{1}}.height",
            "type": "number"
        },
        {
            "blocktype": "expression",
            "id": "8d90b1fa-2791-4381-add5-c3c5d238ac0d",
            "label": "image [image] url",
            "script": "{{1}}.width",
            "type": "string"
        }
    ]
}
