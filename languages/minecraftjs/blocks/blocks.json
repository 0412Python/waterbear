{
    "name": "Blocks",
    "blocks": [
        {
            "blocktype": "context",
            "sockets": [
                    {
                        "name": "get Block Type at "
                    },
                    {
                        "type": "position"
                    }
                ],
            "script": "client.getBlock({{1}}.x, {{1}}.y, {{1}}.z, function(block##){[[1]]  client.end()});",
            "locals": [
                {
                    "blocktype": "expression",
                    "sockets": [
                            {
                                "name": "block##"
                            }
                        ],
                        
                    "script": "parseInt(block##)",
                    "type": "block"
                }
            ],
            "help": "get block type at x, y, z"
        },
        
        {
            "blocktype": "step",
            "sockets": [
                    {
                        "name": "set Block at"
                    },
                    {
                        "type": "position"
                    },
                    {
                        "name": "to"
                    },
                    {
                        "type": "choice",
                        "options": "blocks",
                        "value": "choice"
                    }
                    
                ],
            "script": "client.setBlock({{1}}.x, {{1}}.y, {{1}}.z, client.blocks[{{2}}]);",
            "help": "set block at position"
        },
    
        {
            "blocktype": "step",
            "labels": ["set Blocks between [object] and [object] to [choice:blocks:STONE]"],
            "sockets": [
                    {
                        "name": "set Blocks between"
                    },
                    {
                        "type": "position"
                    },
                    {
                        "name": "and"
                    },
                    {
                        "type": "position"
                    },
                    {
                        "name": "to"
                    },
                    
                    {
                        "type": "choice",
                        "options": "blocks",
                        "value": "choice"
                    }
                    
                ],
            
            "script": "client.setBlocks({{1}}.x, {{1}}.y, {{1}}.z, {{2}}.x, {{2}}.y, {{2}}.z, client.blocks[{{3}}]);",
            "help": "set blocks in a 3D rectangle between the first and second postions to .."
        },
        
        {
            "blocktype": "expression",
            
            "sockets": [
                {
                    "name": "block type name"
                },
                {
                    "type": "number",
                    "value": "0"
                }
            ],
            
            "script": "Object.keys(client.blocks).filter(function(element){return (client.blocks[element] === {{1}});})",
            "type": "number",
            "help": "name of a blocktype by number"
        },
        
        {
            "blocktype": "context",
            "sockets": [
                    {
                        "name": "get height at "
                    },
                    {
                        "type": "number",
                        "value": "0"
                    },
                    {
                        "type": "number",
                        "value": "0"
                    }
                ],
            
            "script": "client.getHeight({{1}}, {{2}}, function(height##){[[1]]  client.end()});",
            "locals": [
                {
                    "blocktype": "expression",
                    "sockets": [
                            {
                                "name": "height##"
                            }
                        ],
                        "script": "parseInt(height##)",
                    "type": "number"
                }
            ],
            "help": "get height of blocks at x, y"
        }
    ]
}


